<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.zzb.cm.entity">
	<select id="ad_searchOrderListByMap" parameterType="Map" resultType="String">
		select 
		  	c.taskid taskid
		from
		  insbcarinfo c,insbpolicyitem p,insborder o
		<where>
		    c.taskid=p.taskid
		    and p.taskid=o.taskid
			<if test="carlicenseno != null"> 
			 	and c.carlicenseno  like CONCAT('%', #{carlicenseno},'%')
			 </if>
			 <if test="insuredname != null"> 
				and p.insuredname like CONCAT('%', #{insuredname},'%')
			 </if>
			 <if test="orderstatus != null"> 
				and o.orderstatus = #{orderstatus}
			 </if>
		</where>
	</select>
</mapper>