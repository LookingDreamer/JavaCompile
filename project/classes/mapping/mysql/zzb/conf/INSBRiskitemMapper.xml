<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.zzb.conf.entity">
	<!-- INSBRiskitem -->
	<select id="INSBRiskitem_insert" parameterType="com.zzb.conf.entity.INSBRiskitem" resultType="int">
		insert into INSBRiskitem
		(id,operator,createtime,modifytime,noti,riskid,itemname,itemcode,itemtype,isusing,isquotemust,inputtype,optional,isunderwriteusing,isunderwritemust) 
		values
		(#{id},#{operator},#{createtime},#{modifytime},#{noti},#{riskid},#{itemname},#{itemcode},#{itemtype},#{isusing},#{isquotemust},#{inputtype},#{optional},#{isunderwriteusing},#{isunderwritemust}) 
	</select>
	<select id="INSBRiskitem_select" parameterType="Map" resultType="com.zzb.conf.entity.INSBRiskitem">
		select * from INSBRiskitem
		<where>
			<if test="riskid != null">
				and riskid = #{riskid}
			</if>
			<if test="itemname != null">
				and itemname = #{itemname}
			</if>
			<if test="itemcode != null">
				and itemcode = #{itemcode}
			</if>
			<if test="itemtype != null">
				and itemtype = #{itemtype}
			</if>
			<if test="isusing != null">
				and isusing = #{isusing}
			</if>
			<if test="isquotemust != null">
				and isquotemust = #{isquotemust}
			</if>
			<if test="inputtype != null">
				and inputtype = #{inputtype}
			</if>
			<if test="optional != null">
				and optional = #{optional}
			</if>
			<if test="isunderwriteusing != null">
				and isunderwriteusing = #{isunderwriteusing}
			</if>
			<if test="isunderwritemust != null">
				and isunderwritemust = #{isunderwritemust}
			</if>
		</where>
	</select>
	<select id="INSBRiskitem_selectOne" parameterType="Map" resultType="com.zzb.conf.entity.INSBRiskitem">
		select * from INSBRiskitem
		<where>
			<if test="riskid != null">
				and riskid = #{riskid}
			</if>
			<if test="itemname != null">
				and itemname = #{itemname}
			</if>
			<if test="itemcode != null">
				and itemcode = #{itemcode}
			</if>
			<if test="itemtype != null">
				and itemtype = #{itemtype}
			</if>
			<if test="isusing != null">
				and isusing = #{isusing}
			</if>
			<if test="isquotemust != null">
				and isquotemust = #{isquotemust}
			</if>
			<if test="inputtype != null">
				and inputtype = #{inputtype}
			</if>
			<if test="optional != null">
				and optional = #{optional}
			</if>
			<if test="isunderwriteusing != null">
				and isunderwriteusing = #{isunderwriteusing}
			</if>
			<if test="isunderwritemust != null">
				and isunderwritemust = #{isunderwritemust}
			</if>
		</where>
		limit 2
	</select>
	<select id="INSBRiskitem_selectById" parameterType="String" resultType="com.zzb.conf.entity.INSBRiskitem">
		select * from INSBRiskitem where id = #{id}
	</select>
	<select id="INSBRiskitem_deleteById" parameterType="String">
		delete from INSBRiskitem where id = #{id}
	</select>
	<select id="INSBRiskitem_updateById" parameterType="com.zzb.conf.entity.INSBRiskitem">
		update INSBRiskitem  set operator = #{operator},modifytime = #{modifytime},noti = #{noti},riskid = #{riskid},itemname = #{itemname},itemcode = #{itemcode},itemtype = #{itemtype},isusing = #{isusing},isquotemust = #{isquotemust},inputtype = #{inputtype},optional = #{optional},isunderwriteusing = #{isunderwriteusing},isunderwritemust = #{isunderwritemust} where id = #{id}
	</select>
	<select id="INSBRiskitem_selectCount" parameterType="Map" resultType="Long">
		select count(1) from INSBRiskitem
		<where>
			<if test="riskid != null">
				and riskid = #{riskid}
			</if>
			<if test="itemname != null">
				and itemname = #{itemname}
			</if>
			<if test="itemcode != null">
				and itemcode = #{itemcode}
			</if>
			<if test="itemtype != null">
				and itemtype = #{itemtype}
			</if>
			<if test="isusing != null">
				and isusing = #{isusing}
			</if>
			<if test="isquotemust != null">
				and isquotemust = #{isquotemust}
			</if>
			<if test="inputtype != null">
				and inputtype = #{inputtype}
			</if>
			<if test="optional != null">
				and optional = #{optional}
			</if>
			<if test="isunderwriteusing != null">
				and isunderwriteusing = #{isunderwriteusing}
			</if>
			<if test="isunderwritemust != null">
				and isunderwritemust = #{isunderwritemust}
			</if>
		</where>
	</select>
	
	<select id="INSBRiskitem_selectVoCount" parameterType="Map" resultType="Long">
		select count(1) from INSBRiskitem
		<where>
			<if test="riskid != null">
				and riskid = #{riskid}
			</if>
			<if test="itemname != null">
				and itemname like CONCAT('%', #{itemname},'%')
			</if>
			<if test="itemcode != null">
				and itemcode = #{itemcode}
			</if>
			<if test="itemtype != null">
				and itemtype = #{itemtype}
			</if>
			<if test="isusing != null">
				and isusing like CONCAT('%', #{isusing},'%')
			</if>
			<if test="isquotemust != null">
				and isquotemust = #{isquotemust}
			</if>
			<if test="inputtype != null">
				and inputtype = #{inputtype}
			</if>
			<if test="optional != null">
				and optional = #{optional}
			</if>
			<if test="isunderwriteusing != null">
				and isunderwriteusing = #{isunderwriteusing}
			</if>
			<if test="isunderwritemust != null">
				and isunderwritemust = #{isunderwritemust}
			</if>
		</where>
	</select>
	<select id="INSBRiskitem_selectVo" parameterType="Map" resultType="com.zzb.conf.entity.INSBRiskitem">
		SELECT
		  id,
		  operator,
		  createtime,
		  modifytime,
		  noti,
		  riskid,
		  itemname,
		  itemcode,
		  (select codename FROM INSCCode WHERE codetype='itemtype' AND codevalue=c.itemtype )  itemtype ,
		  (CASE c.isusing WHEN '1' THEN '是' ELSE '否' END)  isusing,
		  (CASE c.isquotemust WHEN '1' THEN '是' ELSE '否' END)  isquotemust,
		  (select codename FROM INSCCode WHERE codetype='iteminputtype' AND codevalue=c.inputtype ) inputtype,
		  optional,
		  (CASE c.isunderwriteusing WHEN '1' THEN '是' ELSE '否' END)  isunderwriteusing,
		  (CASE c.isunderwritemust WHEN '1' THEN '是' ELSE '否' END)  isunderwritemust
		FROM INSBRiskitem c
		<where>
			<if test="riskid != null">
				and riskid = #{riskid}
			</if>
			<if test="itemname != null">
				and itemname like CONCAT('%', #{itemname},'%')
			</if>
			<if test="itemcode != null">
				and itemcode = #{itemcode}
			</if>
			<if test="itemtype != null">
				and itemtype = #{itemtype}
			</if>
			<if test="isusing != null">
				and isusing like CONCAT('%', #{isusing},'%')
			</if>
			<if test="isquotemust != null">
				and isquotemust = #{isquotemust}
			</if>
			<if test="inputtype != null">
				and inputtype = #{inputtype}
			</if>
			<if test="optional != null">
				and optional = #{optional}
			</if>
			<if test="isunderwriteusing != null">
				and isunderwriteusing = #{isunderwriteusing}
			</if>
			<if test="isunderwritemust != null">
				and isunderwritemust = #{isunderwritemust}
			</if>
		</where>
	</select>
	<select id="INSBRiskitem_selectByModifytime" parameterType="Map"
		resultType="com.zzb.conf.entity.INSBRiskitem">
		select * from INSBRiskitem
		<where>
		<if test="_parameter!=null">
				and DATE_FORMAT(modifytime, '%Y-%c-%d') = #{_parameter}
		</if>
		</where>
	</select>
</mapper>