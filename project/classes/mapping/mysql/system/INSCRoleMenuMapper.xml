<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cninsure.system.entity">
	<!-- INSCRoleMenu -->
	<select id="INSCRoleMenu_insert" parameterType="com.cninsure.system.entity.INSCRoleMenu"
		resultType="int">
		insert into INSCRoleMenu
		(id,operator,createtime,modifytime,noti,roleid,menuid)
		values
		(#{id},#{operator},#{createtime},#{modifytime},#{noti},#{roleid},#{menuid})
	</select>
	<select id="INSCRoleMenu_select" parameterType="Map"
		resultType="com.cninsure.system.entity.INSCRoleMenu">
		select * from INSCRoleMenu
		<where>
			<if test="roleid != null">
 			and 	roleid = #{roleid}	
			</if>
			<if test="menuid != null">
			 and 	menuid = #{menuid}	
			</if>
			<if test="status != null">
			 and 	status = #{status}	
			</if>
		</where>
	</select>
	<select id="INSCRoleMenu_selectOne" parameterType="Map"
		resultType="com.cninsure.system.entity.INSCRoleMenu">
		select * from INSCRoleMenu
		<where>
			<if test="roleid != null">
 			and 	roleid = #{roleid}	
			</if>
			<if test="menuid != null">
			 and 	menuid = #{menuid}	
			</if>
			<if test="status != null">
			 and 	status = #{status}	
			</if>
		</where>
		LIMIT 2
	</select>
	<select id="INSCRoleMenu_selectById" parameterType="String"
		resultType="com.cninsure.system.entity.INSCRoleMenu">
		select * from INSCRoleMenu where id = #{value}
	</select>
	<select id="INSCRoleMenu_deleteById" parameterType="String">
		delete from
		INSCRoleMenu where id = #{value}
	</select>
	
	
	<select id="INSCRoleMenu_selectMenuIdsByRoleIds4Menu"  resultType="String">
		select menuid from
		INSCRoleMenu
		<where>
			<choose>
				<when test="list != null and list.size()>0">
			 		and roleid in
					<foreach collection="list" index="index" item="item" open="(" separator="," close=")">
						#{item}
					</foreach>
				</when>
				<otherwise>
					and 1=2
				</otherwise>
			</choose>
		</where>
	</select>
	<select id="INSCRoleMenu_updateById" parameterType="com.cninsure.system.entity.INSCRoleMenu">
		update
		INSCRoleMenu set
		modifytime = #{modifytime},roleid = #{roleid},menuid = #{menuid},
		status = #{status},noti = #{noti}, operator = #{operator}
		where id =
		#{id}
	</select>
	<select id="INSCRoleMenu_selectCount" parameterType="Map" resultType="long">
		select count(1) from INSCRoleMenu
		<where>
			<if test="roleid != null">
 			and 	roleid = #{roleid}	
			</if>
			<if test="menuid != null">
			 and 	menuid = #{menuid}	
			</if>
			<if test="status != null">
			 and 	status = #{status}	
			</if>
		</where>
	</select>
	<select id="INSCRoleMenu_deleteByRoleidMenuId" parameterType="com.cninsure.system.entity.INSCRoleMenu">
		delete from INSCRoleMenu where roleid=#{roleid} and menuid=#{menuid}
	</select>
	
	<select id="INSCRoleMenu_selectByRoleId" parameterType="String"
		resultType="com.cninsure.system.entity.INSCRoleMenu">
		select * from INSCRoleMenu where roleid = #{roleId} and status='1'
	</select>
</mapper>